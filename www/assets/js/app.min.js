document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("sidePanel"),t=document.getElementById("settings-btn"),s=document.getElementById("main-box"),a=document.getElementById("text-form"),n=document.getElementById("text-msg"),l=document.getElementById("loading-icon"),i=document.getElementById("resp");a.addEventListener("submit",async d=>{d.preventDefault();let f=n.value;l.classList.remove("d-none");const o=new FormData;o.append("hello","Yohn"),o.append("chatMsg",f);const x=Object.fromEntries(o);try{const y=await fetch("/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok)throw new Error("Network response was not ok.");n.value="";const A=new Event("input",{bubbles:!0});n.dispatchEvent(A);const C=await y.json();i.innerHTML=C.greeting,console.log(C),l.classList.add("d-none")}catch(y){console.error("Error:",y)}});function u(d){let f=parseInt(s.getAttribute("data-yo-col")),o=d=="up"?f+3:f-3;s.classList.remove("col-"+f),s.classList.add("col-"+o),s.setAttribute("data-yo-col",o)}e.addEventListener("show.bs.collapse",()=>{t.classList.toggle("btn-primary"),t.classList.toggle("btn-outline-primary"),e.classList.toggle("font-zero"),u("down")}),e.addEventListener("hide.bs.collapse",()=>{t.classList.toggle("btn-primary"),t.classList.toggle("btn-outline-primary"),e.classList.toggle("font-zero"),u("up")});//!
//!------------------------------------------------------------------------!
//!
//!		Background changer
//!
//!------------------------------------------------------------------------!
//!
document.getElementById("bgColor").addEventListener("input",function(){document.body.style.backgroundColor=this.value});let v=document.getElementById("gradientStart"),b=document.getElementById("gradientEnd"),p=document.getElementById("gradientOpacity");v.addEventListener("input",E),b.addEventListener("input",E),p.addEventListener("input",E);function E(){const d=v.value,f=b.value,o=p.value;document.body.style.backgroundImage=`linear-gradient(to right, ${c(d,o)}, ${c(f,o)})`}function c(d,f){let o=parseInt(d.slice(1,3),16),x=parseInt(d.slice(3,5),16),y=parseInt(d.slice(5,7),16);return`rgba(${o}, ${x}, ${y}, ${f})`}})(()=>{"use strict";const e=()=>localStorage.getItem("theme"),t=l=>localStorage.setItem("theme",l),s=()=>{const l=e();return l||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},a=l=>{l==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",l)};a(s());const n=(l,i=!1)=>{const u=document.querySelector("#bd-theme");if(!u)return;const v=document.querySelector("#bd-theme-text"),b=document.querySelector(".theme-icon-active use"),p=document.querySelector(`[data-bs-theme-value="${l}"]`),E=p.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(d=>{d.classList.remove("active"),d.setAttribute("aria-pressed","false")}),p.classList.add("active"),p.setAttribute("aria-pressed","true"),b.setAttribute("href",E);const c=`${v.textContent} (${p.dataset.bsThemeValue})`;u.setAttribute("aria-label",c),i&&u.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const l=e();l!=="light"&&l!=="dark"&&a(s())}),window.addEventListener("DOMContentLoaded",()=>{n(s()),document.querySelectorAll("[data-bs-theme-value]").forEach(l=>{l.addEventListener("click",()=>{const i=l.getAttribute("data-bs-theme-value");t(i),a(i),n(i,!0)})})})})();function _(e,t,s){const a=e.dataset.dselectValue,n=e.closest(`.${t}`).previousElementSibling,l=n.nextElementSibling.getElementsByClassName(s)[0],i=n.nextElementSibling.querySelector("input");n.multiple?Array.from(n.options).filter(u=>u.value===a)[0].selected=!0:n.value=a,n.multiple&&l.click(),n.dispatchEvent(new Event("change")),l.focus(),i&&(i.value="")}function ee(e,t,s){const a=e.parentNode.dataset.dselectValue,n=e.closest(`.${t}`).previousElementSibling,l=n.nextElementSibling.getElementsByClassName(s)[0],i=n.nextElementSibling.querySelector("input");Array.from(n.options).filter(u=>u.value===a)[0].selected=!1,n.dispatchEvent(new Event("change")),l.click(),i&&(i.value="")}function te(e,t,s,a,n,l){const i=t.value.toLowerCase().trim(),u=t.nextElementSibling,v=Array.from(u.querySelectorAll(".dropdown-header")),b=Array.from(u.querySelectorAll(".dropdown-item")),p=u.nextElementSibling;if(v.forEach(c=>c.classList.add("d-none")),b.forEach(c=>{const f=c.textContent.toLowerCase().includes(i);if(c.classList.toggle("d-none",!f),f){let o=c.previousElementSibling;for(;o&&!o.classList.contains("dropdown-header");)o.classList.remove("d-none"),o=o.previousElementSibling}}),v.forEach(c=>{const f=c.textContent.toLowerCase().includes(i);if(c.classList.toggle("d-none",!f),f){let o=c.nextElementSibling;for(;o&&!o.classList.contains("dropdown-header");)o.classList.remove("d-none"),o=o.nextElementSibling}}),b.filter(c=>!c.classList.contains("d-none")&&!c.hasAttribute("hidden")).length===0){if(p.classList.remove("d-none"),u.classList.add("d-none"),n&&(p.innerHTML=l.replace("[searched-term]",t.value),e.key==="Enter")){const c=t.closest(`.${s}`).previousElementSibling,d=c.nextElementSibling.querySelector(`.${a}`);c.insertAdjacentHTML("afterbegin",`<option value="${t.value}" selected>${t.value}</option>`),c.dispatchEvent(new Event("change")),t.value="",t.dispatchEvent(new Event("keyup")),d.click(),d.focus()}}else p.classList.add("d-none"),u.classList.remove("d-none")}function se(e,t){const s=e.closest(`.${t}`).previousElementSibling;Array.from(s.options).forEach(a=>a.selected=!1),s.dispatchEvent(new Event("change"))}function ne(e,t={}){e.style.display="none";const s="dselect-wrapper",a="dselect-no-results",n="dselect-tag-remove",l="dselect-tag",i="dselect-placeholder",u="dselect-clear",v="dselect-clearable",b="text-bg-dark bg-gradient",p=!1,E=!1,c=!1,d="360px",f="",o="",x="Search..",y="Press Enter to add &quot;<strong>[searched-term]</strong>&quot;",A="No results found",C=I("search")||t.search||p,R=I("creatable")||t.creatable||E,M=I("clearable")||t.clearable||c,N=e.dataset.dselectMaxHeight||t.maxHeight||d,D=e.dataset.dselectdClassTag||t.classTag||b,V=`${l} ${D}`,j=e.dataset.dselectSearchPlaceholder||t.searchPlaceholder||x,U=e.dataset.dselectNoResultsPlaceholder||t.noResultsPlaceholder||A,F=e.dataset.dselectAddOptionPlaceholder||t.addOptionPlaceholder||y,O=e.dataset.dselectItemClass||t.ItemClass||o,T=e.dataset.dselectSize||t.size||f,L=`form-select${T!==""?` form-select-${T}`:""}`,G=C?`<input onkeydown="return event.key !== 'Enter'" onkeyup="dselectSearch(event, this, '${s}', '${L}', ${R}, '${F}')" type="text" class="form-control" placeholder="${j}" autofocus>`:"";function I(m){const g=`data-dselect-${m}`;return e.hasAttribute(g)?e.getAttribute(g).toLowerCase()==="true":null}function J(){e.nextElementSibling&&e.nextElementSibling.classList&&e.nextElementSibling.classList.contains(s)&&e.nextElementSibling.remove()}function S(m){return m.getAttribute("value")===""}function q(m,g){if(g){const r=Array.from(m).filter(h=>h.selected&&!S(h)),w=Array.from(m).filter(h=>S(h));let $=[];if(r.length===0){const h=w.length?w[0].textContent:"&nbsp;";$.push(`<span class="${i}">${h}</span>`)}else for(const h of r)$.push(`
            <div class="${V}" data-dselect-value="${h.value}">
              ${h.text}
              <svg onclick="dselectRemoveTag(this, '${s}', '${L}')" class="${n}" width="14" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>
            </div>
          `);return $.join("")}else{const r=m[m.selectedIndex];return S(r)?`<span class="${i}">${r.innerHTML}</span>`:r.innerHTML}}function H(m){const g=m[m.selectedIndex];return S(g)?"":g.textContent}function z(m){let g=[];for(const r of m)if(r.tagName==="OPTGROUP")g.push(`<h6 class="dropdown-header">${r.getAttribute("label")}</h6>`);else{const w=S(r)?" hidden":"",$=r.selected?" active":"",h=r.selected?" disabled":"",Q=r.getAttribute("disabled"),W=O===""?"":" "+O;let k="";Q!==null?k="disabled='true'":k="";const X=r.value;let B=r.textContent;if(r.hasAttribute("data-dselect-img")&&r.getAttribute("data-dselect-img").trim()!==""){const Z=r.getAttribute("data-dselect-img").trim();let P="1rem";T=="sm"?P=".7rem":T=="lg"&&(P="1.2rem"),B=`<span class="d-flex align-items-center">
            <img src="${Z}" style="max-height:${P}; width:auto;">
            <span class="ps-2">${B}</span>
          </span>`}g.push(`<button${w} class="dropdown-item${$}${W}"  ${k} data-dselect-value="${X}" type="button" onclick="dselectUpdate(this, '${s}', '${L}')" ${h}>
          ${B}
        </button>`)}return g=g.join(""),g}function Y(){const m=e.multiple?' data-bs-auto-close="outside"':"",g=Array.from(e.classList).filter(h=>h!=="form-select"&&h!=="form-select-sm"&&h!=="form-select-lg").join(" "),r=M&&!e.multiple?`
    <button type="button" class="btn ${u}" title="Clear selection" onclick="dselectClear(this, '${s}')">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" fill="none">
        <path d="M13 1L0.999999 13" stroke-width="2" stroke="currentColor"></path>
        <path d="M1 1L13 13" stroke-width="2" stroke="currentColor"></path>
      </svg>
    </button>
    `:"",w=`
    <div class="dropdown ${s} ${g}">
      <button class="${L} ${!e.multiple&&M?v:""}" data-dselect-text="${!e.multiple&&H(e.options)}" type="button" data-bs-toggle="dropdown" aria-expanded="false"${m}>
        ${q(e.options,e.multiple)}
      </button>
      <div class="dropdown-menu">
        <div class="d-flex flex-column">
          ${G}
          <div class="dselect-items" style="max-height:${N};overflow:auto">
            ${z(e.querySelectorAll("*"))}
          </div>
          <div class="${a} d-none">${U}</div>
        </div>
      </div>
      ${r}
    </div>
    `;J(),e.insertAdjacentHTML("afterend",w),e.nextElementSibling.addEventListener("shown.bs.dropdown",function(){const h=this.querySelector('input[type="text"]');h&&h.focus()})}Y();function K(){const m=e.nextElementSibling,g=m.getElementsByClassName(L)[0],r=m.getElementsByClassName("dselect-items")[0];g.innerHTML=q(e.options,e.multiple),r.innerHTML=z(e.querySelectorAll("*")),e.multiple||(g.dataset.dselectText=H(e.options))}e.addEventListener("change",K)}typeof module<"u"&&typeof module.exports<"u"&&(module.exports={dselectUpdate:_,dselectRemoveTag:ee,dselectSearch:te,dselectClear:se,dselect:ne});export function flatten(e){let t="";function s(a){if(Array.isArray(a))a.forEach(n=>s(n));else if(typeof a=="object")for(let n in a)s(a[n]);else t+=a+","}return s(e),t.slice(0,-1)}module.exports=flatten;
